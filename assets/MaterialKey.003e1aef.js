var D=Object.defineProperty,G=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var z=(t,e,s)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,u=(t,e)=>{for(var s in e||(e={}))Y.call(e,s)&&z(t,s,e[s]);if(f)for(var s of f(e))k.call(e,s)&&z(t,s,e[s]);return t},h=(t,e)=>G(t,K(e));import{C as H}from"./vendor.c414a8c9.js";import{S as l,b as i,l as v,q as g}from"./Utils.d29fb889.js";var r,n;function ie(t){switch(t){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function re(t){switch(t){case"top":return n.Top;case"middle":return n.Center;case"baseline":return n.Baseline;case"bottom":return n.Bottom}}function ae(t){switch(t){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,n.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,n.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,n.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,n.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,n.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,n.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,n.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,n.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,n.Top];default:return console.debug(`Found invalid placement type ${t}`),[r.Center,n.Center]}}function ne(t){switch(t){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function oe(t){switch(t){case n.Top:return 1;case n.Center:return 0;case n.Bottom:case n.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${t}`),0}}function ve(t){switch(t){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function j(t){switch(t){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}(function(t){t[t.Left=-1]="Left",t[t.Center=0]="Center",t[t.Right=1]="Right"})(r||(r={})),function(t){t[t.Top=1]="Top",t[t.Center=0]="Center",t[t.Bottom=-1]="Bottom",t[t.Baseline=2]="Baseline"}(n||(n={}));function q(t,e,s){const o=v.SIZE_FIELD_STOPS|v.SIZE_MINMAX_VALUE|v.SIZE_SCALE_STOPS|v.SIZE_UNIT_VALUE,a=(e&(g.FIELD_TARGETS_OUTLINE|g.MINMAX_TARGETS_OUTLINE|g.SCALE_TARGETS_OUTLINE|g.UNIT_TARGETS_OUTLINE))>>>4;return t===i.LINE&&s.isOutline||t===i.FILL&&Z(s.symbologyType)?o&a:o&~a}const E=0,A=8,J=7,M=8,C=11,I=11,B=12,_=13,w=14,O=15,P=16,F=17,R=18,U=19,x=20,N=21,$=26,Q=Object.keys(l).filter(t=>typeof l[t]=="number").reduce((t,e)=>h(u({},t),{[e]:l[e]}),{});function W(t){return t===l.SIMPLE||t===l.OUTLINE_FILL_SIMPLE}function Z(t){return t===l.OUTLINE_FILL||t===l.OUTLINE_FILL_SIMPLE}function le(t){return W(t.symbologyType)}function ce(t){return Z(t.symbologyType)}function ue(t,e){switch(t){case i.FILL:return d.from(e);case i.LINE:return V.from(e);case i.MARKER:return y.from(e);case i.TEXT:return m.from(e);case i.LABEL:return L.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function he(t){switch(c.load(t).geometryType){case i.MARKER:return new y(t);case i.FILL:return new d(t);case i.LINE:return new V(t);case i.TEXT:return new m(t);case i.LABEL:return new L(t)}}class c{constructor(e){this._data=0,this._data=e}static load(e){const s=this.shared;return s.data=e,s}set data(e){this._data=e}get data(){return this._data}get geometryType(){return this.bits(M,C)}set geometryType(e){this.setBits(e,M,C)}get mapAligned(){return!!this.bit(x)}set mapAligned(e){this.setBit(x,e)}get sdf(){return!!this.bit(I)}set sdf(e){this.setBit(I,e)}get pattern(){return!!this.bit(B)}set pattern(e){this.setBit(B,e)}get textureBinding(){return this.bits(E,A)}set textureBinding(e){this.setBits(e,E,A)}get symbologyType(){return this.bits(N,$)}set symbologyType(e){this.setBits(e,N,$)}get geometryTypeString(){switch(this.geometryType){case i.FILL:return"fill";case i.MARKER:return"marker";case i.LINE:return"line";case i.TEXT:return"text";case i.LABEL:return"label";default:throw new H(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,s){const o=1<<e;s?this._data|=o:this._data&=~o}bit(e){return(this._data&1<<e)>>e}setBits(e,s,o){for(let a=s,S=0;a<o;a++,S++)this.setBit(a,(e&1<<S)!=0)}bits(e,s){let o=0;for(let a=e,S=0;a<s;a++,S++)o|=this.bit(a)<<S;return o}hasVV(){return!1}setVV(e,s){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:l[this.symbologyType],options:Q,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(J&this.textureBinding)}}c.shared=new c(0);const p=t=>class extends t{get vvSizeMinMaxValue(){return this.bit(P)!==0}set vvSizeMinMaxValue(e){this.setBit(P,e)}get vvSizeScaleStops(){return this.bit(F)!==0}set vvSizeScaleStops(e){this.setBit(F,e)}get vvSizeFieldStops(){return this.bit(R)!==0}set vvSizeFieldStops(e){this.setBit(R,e)}get vvSizeUnitValue(){return this.bit(U)!==0}set vvSizeUnitValue(e){this.setBit(U,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,s){super.setVV(e,s);const o=q(this.geometryType,e,s)&e;this.vvSizeMinMaxValue=!!(o&v.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(o&v.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(o&v.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(o&v.SIZE_SCALE_STOPS)}},X=t=>class extends t{get vvRotation(){return this.bit(O)!==0}set vvRotation(e){this.setBit(O,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,s){super.setVV(e,s),this.vvRotation=!s.isOutline&&!!(e&v.ROTATION)}},T=t=>class extends t{get vvColor(){return this.bit(_)!==0}set vvColor(e){this.setBit(_,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,s){super.setVV(e,s),this.vvColor=!s.isOutline&&!!(e&v.COLOR)}},b=t=>class extends t{get vvOpacity(){return this.bit(w)!==0}set vvOpacity(e){this.setBit(w,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,s){super.setVV(e,s),this.vvOpacity=!s.isOutline&&!!(e&v.OPACITY)}};class d extends T(b(p(c))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const{symbologyType:s,vvFlags:o}=e,a=this.load(0);return a.geometryType=i.FILL,a.symbologyType=s,s!==l.DOT_DENSITY&&a.setVV(o,e),a.data}getVariation(){return h(u({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}d.shared=new d(0);class y extends T(b(X(p(c)))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const{symbologyType:s,vvFlags:o}=e,a=this.load(0);return a.geometryType=i.MARKER,a.symbologyType=s,s!==l.HEATMAP&&a.setVV(o,e),a.data}getVariation(){return h(u({},super.getVariation()),{vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}y.shared=new y(0);class V extends T(b(p(c))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=i.LINE,s.symbologyType=e.symbologyType,s.setVV(e.vvFlags,e),s.data}getVariation(){return h(u({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}V.shared=new V(0);class m extends T(b(X(p(c)))){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=i.TEXT,s.symbologyType=e.symbologyType,s.setVV(e.vvFlags,e),s.data}getVariation(){return h(u({},super.getVariation()),{vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}m.shared=new m(0);class L extends p(c){static load(e){const s=this.shared;return s.data=e,s}static from(e){const s=this.load(0);return s.geometryType=i.LABEL,s.symbologyType=e.symbologyType,s.setVV(e.vvFlags,e),s.mapAligned=j(e.placement),s.data}getVariation(){return h(u({},super.getVariation()),{vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue})}}L.shared=new L(0);export{he as A,V as C,y as N,ce as O,m as P,c as U,L as Z,Z as _,ae as a,le as b,ne as c,r as e,ue as f,j as i,re as n,oe as o,ie as r,ve as s,n as t,d as w};
